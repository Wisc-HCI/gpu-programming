"use strict";var e=require("@babel/runtime/helpers/extends"),t=require("react"),r=require("@react-three/fiber"),o=require("./GizmoHelper.cjs.js"),a=require("three");function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var i=n(t);const l="#f0f0f0",c="#999",s="black",p="black",m=["Right","Left","Top","Bottom","Front","Back"],u=e=>new a.Vector3(...e).multiplyScalar(.38),h=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(u),f=[.25,.25,.25],g=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(u),y=g.map((e=>e.toArray().map((e=>0==e?.5:.25)))),b=({hover:e,index:t,font:o="20px Inter var, Arial, sans-serif",faces:n=m,color:u=l,hoverColor:h=c,textColor:f=s,strokeColor:g=p,opacity:y=1})=>{const b=r.useThree((e=>e.gl)),x=i.useMemo((()=>{const e=document.createElement("canvas");e.width=128,e.height=128;const r=e.getContext("2d");return r.fillStyle=u,r.fillRect(0,0,e.width,e.height),r.strokeStyle=g,r.strokeRect(0,0,e.width,e.height),r.font=o,r.textAlign="center",r.fillStyle=f,r.fillText(n[t].toUpperCase(),64,76),new a.CanvasTexture(e)}),[t,n,o,u,f,g]);return i.createElement("meshBasicMaterial",{map:x,"map-anisotropy":b.capabilities.getMaxAnisotropy()||1,attach:`material-${t}`,color:e?h:"white",transparent:!0,opacity:y})},x=t=>{const{tweenCamera:r}=o.useGizmoContext(),[a,n]=i.useState(null);return i.createElement("mesh",{onPointerOut:e=>{e.stopPropagation(),n(null)},onPointerMove:e=>{e.stopPropagation(),n(Math.floor(e.faceIndex/2))},onClick:t.onClick||(e=>{e.stopPropagation(),r(e.face.normal)})},[...Array(6)].map(((r,o)=>i.createElement(b,e({key:o,index:o,hover:a===o},t)))),i.createElement("boxGeometry",null))},d=({onClick:e,dimensions:t,position:r,hoverColor:a=c})=>{const{tweenCamera:n}=o.useGizmoContext(),[l,s]=i.useState(!1);return i.createElement("mesh",{scale:1.01,position:r,onPointerOver:e=>{e.stopPropagation(),s(!0)},onPointerOut:e=>{e.stopPropagation(),s(!1)},onClick:e||(e=>{e.stopPropagation(),n(r)})},i.createElement("meshBasicMaterial",{color:l?a:"white",transparent:!0,opacity:.6,visible:l}),i.createElement("boxGeometry",{args:t}))};exports.GizmoViewcube=t=>i.createElement("group",{scale:[60,60,60]},i.createElement(x,t),g.map(((r,o)=>i.createElement(d,e({key:o,position:r,dimensions:y[o]},t)))),h.map(((r,o)=>i.createElement(d,e({key:o,position:r,dimensions:f},t)))));
